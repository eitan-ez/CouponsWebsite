(this["webpackJsonpreact-coupons"]=this["webpackJsonpreact-coupons"]||[]).push([[0],{105:function(e,t,a){},125:function(e,t,a){},126:function(e,t,a){},127:function(e,t,a){},128:function(e,t,a){},129:function(e,t,a){},130:function(e,t,a){},131:function(e,t,a){},132:function(e,t,a){},133:function(e,t,a){},134:function(e,t,a){},135:function(e,t,a){},136:function(e,t,a){},137:function(e,t,a){},138:function(e,t,a){},139:function(e,t,a){},140:function(e,t,a){},141:function(e,t,a){},142:function(e,t,a){},143:function(e,t,a){},144:function(e,t,a){"use strict";a.r(t);var r=a(0),s=a.n(r),n=a(19),c=a.n(n),i=(a(96),function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,195)).then((function(t){var a=t.getCLS,r=t.getFID,s=t.getFCP,n=t.getLCP,c=t.getTTFB;a(e),r(e),s(e),n(e),c(e)}))}),o=a(30),l=(a(97),a(1));var u,j=function(){return Object(l.jsx)("div",{className:"Footer",children:"\xa9 Eitan Etzion. May 2021"})},d=a(10),b=a(13),m=a(15),h=a(14),p=a(3),O=function e(){Object(d.a)(this,e),this.user=null;var t=JSON.parse(localStorage.getItem("user"));t&&(this.user=t)};function x(e){return{type:u.Login,payload:e}}!function(e){e.Register="Register",e.Login="Login",e.Logout="Logout"}(u||(u={}));var v=a(67),f=Object(v.a)({authState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new O,t=arguments.length>1?arguments[1]:void 0,a=Object(p.a)({},e);switch(t.type){case u.Register:case u.Login:a.user=t.payload,localStorage.setItem("user",JSON.stringify(a.user));break;case u.Logout:a.user=null,localStorage.removeItem("user")}return a}}),y=Object(v.b)(f),g=(a(99),function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var r;return Object(d.a)(this,a),(r=t.call(this,e)).state={user:y.getState().authState.user},r}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this;y.subscribe((function(){e.setState({user:y.getState().authState.user})}))}},{key:"render",value:function(){return Object(l.jsx)("div",{className:"AuthMenu",children:this.state.user&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("span",{children:["Welcome ",this.state.user.email,"!"]}),Object(l.jsx)("span",{children:" | "}),Object(l.jsx)(o.b,{to:"/logout",children:"Logout"})]})})}}]),a}(r.Component));a(105);var C=function(){return Object(l.jsxs)("div",{className:"Header",children:[Object(l.jsx)(g,{}),Object(l.jsx)("h1",{children:"My Coupons Project"})]})},S=a(12),N=a(5),w=a.n(N),k=a(8),M=a(176),E=a(177),D=a(191),A=a(183),T=a(145),L=a(16),I=function e(){Object(d.a)(this,e)},P=new(function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).urls={adminLogin:"/api/admin/login",adminAdd:"/api/admin/add-",adminUpdate:"/api/admin/update-",adminDelete:"/api/admin/delete-",adminGet:"/api/admin/get-",company:"/api/company/",companyGet:"/api/company/get-",companyLogin:"/api/company/login",customerLogin:"/api/customer/login",customerPurchase:"/api/customer/purchase-coupon",customer:"/api/customer/"},e}return a}(I)),G=a(45),W=a.n(G),q=W.a.create();q.interceptors.request.use((function(e){var t;return e.headers={jwt:null===(t=y.getState().authState.user)||void 0===t?void 0:t.token},e}));var B=q,R=a(80),F=new(function(){function e(){Object(d.a)(this,e),this.notification=new R.a({duration:4e3,position:{x:"left",y:"top"}})}return Object(b.a)(e,[{key:"success",value:function(e){this.notification.success(e)}},{key:"error",value:function(e){var t=this.extractMessage(e);this.notification.error(t)}},{key:"extractMessage",value:function(e){var t,a,r,s;return"string"===typeof e?e:"string"===typeof(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)?e.response.data.message:"string"===typeof(null===e||void 0===e||null===(r=e.response)||void 0===r?void 0:r.data)?e.response.data:Array.isArray(null===e||void 0===e||null===(s=e.response)||void 0===s?void 0:s.data)?e.response.data[0]:"string"===typeof(null===e||void 0===e?void 0:e.message)?e.message:"Unknown error occurred, please try again."}}]),e}()),U=a(84),Y=a(63),H=a(62),V=Object(U.a)({palette:{type:"dark",primary:{main:Y.a[900]},secondary:{main:H.a[800]}}});var _=function(){var e=Object(L.a)(),t=e.register,a=e.handleSubmit,r=e.formState.errors;function s(){return(s=Object(k.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.post(P.urls.adminAdd+"company",t);case 3:F.success("company has been added successfully"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),F.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return Object(l.jsx)("form",{className:"Box",onSubmit:a((function(e){return s.apply(this,arguments)})),children:Object(l.jsxs)(M.a,{theme:V,children:[Object(l.jsx)(E.a,{align:"center",variant:"h2",children:"Add a Company"}),Object(l.jsx)(D.a,Object(p.a)(Object(p.a)({},t("name",{minLength:{value:3,message:"Name must be at least 3 letters."}})),{},{label:"Name",variant:"standard",required:!0,fullWidth:!0})),r.name&&Object(l.jsx)("span",{className:"ErrorMessage",children:r.name.message}),Object(l.jsx)(D.a,Object(p.a)(Object(p.a)({},t("email",{minLength:{value:3,message:"Email must be at least 3 letters."},pattern:{value:/\S+@\S+\.\S+/,message:"This field must be an Email"}})),{},{label:"Email",variant:"standard",required:!0,fullWidth:!0})),r.email&&Object(l.jsx)("span",{className:"ErrorMessage",children:r.email.message}),Object(l.jsx)(D.a,Object(p.a)(Object(p.a)({},t("password",{minLength:{value:3,message:"Email must be at least 3 letters."}})),{},{label:"Password",variant:"standard",type:"password",required:!0,fullWidth:!0})),r.password&&Object(l.jsx)("span",{className:"ErrorMessage",children:r.password.message}),Object(l.jsxs)(A.a,{variant:"text",fullWidth:!0,children:[Object(l.jsx)(T.a,{type:"submit",color:"primary",children:"Send"}),Object(l.jsx)(T.a,{type:"reset",color:"secondary",children:"Clear"})]})]})})};a(125);var z=function(){var e=Object(L.a)(),t=e.register,a=e.handleSubmit,r=e.formState.errors;function s(){return(s=Object(k.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.post(P.urls.adminAdd+"customer",t);case 3:F.success("customer has been added successfully"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),F.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return Object(l.jsx)("form",{className:"AddCustomer Box",onSubmit:a((function(e){return s.apply(this,arguments)})),children:Object(l.jsxs)(M.a,{theme:V,children:[Object(l.jsx)(E.a,{align:"center",variant:"h2",children:"Add a customer"}),Object(l.jsx)(D.a,Object(p.a)(Object(p.a)({},t("firstName",{minLength:{value:3,message:"First Name must be at least 3 letters."}})),{},{label:"First Name",variant:"standard",required:!0,fullWidth:!0})),r.firstName&&Object(l.jsx)("span",{className:"ErrorMessage",children:r.firstName.message}),Object(l.jsx)(D.a,Object(p.a)(Object(p.a)({},t("lastName",{minLength:{value:3,message:"Last Name must be at least 3 letters."}})),{},{label:"Last Name",variant:"standard",required:!0,fullWidth:!0})),r.lastName&&Object(l.jsx)("span",{className:"ErrorMessage",children:r.lastName.message}),Object(l.jsx)(D.a,Object(p.a)(Object(p.a)({},t("email",{minLength:{value:3,message:"Email must be at least 3 letters."},pattern:{value:/\S+@\S+\.\S+/,message:"This field must be an Email"}})),{},{label:"Email",variant:"standard",required:!0,fullWidth:!0})),r.email&&Object(l.jsx)("span",{className:"ErrorMessage",children:r.email.message}),Object(l.jsx)(D.a,Object(p.a)(Object(p.a)({},t("password",{minLength:{value:3,message:"Email must be at least 3 letters."}})),{},{label:"Password",variant:"standard",type:"password",required:!0,fullWidth:!0})),r.password&&Object(l.jsx)("span",{className:"ErrorMessage",children:r.password.message}),Object(l.jsxs)(A.a,{variant:"text",fullWidth:!0,children:[Object(l.jsx)(T.a,{type:"submit",color:"primary",children:"Send"}),Object(l.jsx)(T.a,{type:"reset",color:"secondary",children:"Clear"})]})]})})};a(126);var J=function(){var e=Object(L.a)(),t=e.register,a=e.handleSubmit,r=e.formState.errors;function s(){return(s=Object(k.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.delete(P.urls.adminDelete+"company/"+t.id);case 3:F.success("company with id: "+t.id+" has been deleted."),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),F.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return Object(l.jsx)(M.a,{theme:V,children:Object(l.jsxs)("form",{className:"DeleteCompany Box",onSubmit:a((function(e){return s.apply(this,arguments)})),children:[Object(l.jsx)(E.a,{align:"center",variant:"h2",children:"Delete a Company"}),Object(l.jsx)(D.a,Object(p.a)(Object(p.a)({},t("id",{min:{value:0,message:"Company ID must be a positive number"}})),{},{label:"Company ID",variant:"filled",type:"number",required:!0,fullWidth:!0})),r.id&&Object(l.jsx)("span",{className:"ErrorMessage",children:r.id.message}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsxs)(A.a,{variant:"text",fullWidth:!0,children:[Object(l.jsx)(T.a,{type:"submit",color:"primary",variant:"contained",children:"Send"}),Object(l.jsx)(T.a,{type:"reset",color:"secondary",variant:"contained",children:"Clear"})]})]})})};a(127);var K=function(){var e=Object(L.a)(),t=e.register,a=e.handleSubmit,r=e.formState.errors;function s(){return(s=Object(k.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.delete(P.urls.adminDelete+"customer/"+t.id);case 3:F.success("customer with id: "+t.id+" has been deleted."),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),F.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return Object(l.jsx)("form",{className:"DeleteCustomer Box",onSubmit:a((function(e){return s.apply(this,arguments)})),children:Object(l.jsxs)(M.a,{theme:V,children:[Object(l.jsx)(E.a,{align:"center",variant:"h2",children:"Delete a Customer"}),Object(l.jsx)(D.a,Object(p.a)(Object(p.a)({},t("id",{min:{value:0,message:"Customer ID must be a positive number"}})),{},{label:"Customer ID",variant:"filled",fullWidth:!0,type:"number",required:!0})),r.id&&Object(l.jsx)("span",{className:"ErrorMessage",children:r.id.message}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsxs)(A.a,{variant:"text",fullWidth:!0,children:[Object(l.jsx)(T.a,{type:"submit",color:"primary",variant:"contained",children:"Send"}),Object(l.jsx)(T.a,{type:"reset",color:"secondary",variant:"contained",children:"Clear"})]})]})})},$=a(182),Q=a(184),X=a(185),Z=a(186),ee=a(187),te=a(188),ae=a(189),re=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var r;return Object(d.a)(this,a),(r=t.call(this,e)).state={customers:[]},r}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=Object(k.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.get(P.urls.adminGet+"all-customers");case 3:t=e.sent,this.setState({customers:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),F.error(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(l.jsx)(M.a,{theme:V,children:Object(l.jsx)($.a,{children:Object(l.jsx)(Q.a,{children:Object(l.jsxs)(X.a,{stickyHeader:!0,"aria-label":"stickyHeader",children:[Object(l.jsxs)(Z.a,{children:[Object(l.jsx)(ee.a,{children:"First Name: "}),Object(l.jsx)(ee.a,{children:"Last Name: "}),Object(l.jsx)(ee.a,{children:"Email: "})]}),Object(l.jsx)(te.a,{children:this.state.customers.map((function(e){return Object(l.jsxs)(ae.a,{children:[Object(l.jsx)(ee.a,{children:e.firstName}),Object(l.jsx)(ee.a,{children:e.lastName}),Object(l.jsx)(ee.a,{children:e.email})]},e.id)}))})]})})})})}}]),a}(r.Component),se=a(23);a(128);var ne=function(){var e=Object(L.a)(),t=e.register,a=e.handleSubmit,s=e.formState.errors,n=Object(r.useState)(null),c=Object(se.a)(n,2),i=c[0],o=c[1];return Object(l.jsx)(M.a,{theme:V,children:Object(l.jsxs)("form",{className:"getOneCompany Box",onSubmit:a(function(){var e=Object(k.a)(w.a.mark((function e(t){var a,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.get(P.urls.adminGet+"one-company/"+t.id);case 3:a=e.sent,r=a.data,o(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),F.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()),children:[Object(l.jsx)(E.a,{align:"center",variant:"h2",children:"Get Company Details"}),Object(l.jsx)(D.a,Object(p.a)(Object(p.a)({},t("id",{min:{value:0,message:"Company ID must be a positive number"}})),{},{label:"Company ID",variant:"outlined",type:"number",required:!0,fullWidth:!0})),s.id&&Object(l.jsx)("span",{className:"ErrorMessage",children:s.id.message}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsxs)(A.a,{variant:"text",fullWidth:!0,children:[Object(l.jsx)(T.a,{type:"submit",color:"primary",variant:"contained",children:"Send"}),Object(l.jsx)(T.a,{type:"reset",color:"secondary",variant:"contained",onClick:function(){return o(null)},children:"Clear"})]}),null!=i&&Object(l.jsxs)("div",{className:"companyDetails",children:[Object(l.jsx)("br",{})," name = ",i.name,Object(l.jsx)("br",{}),Object(l.jsx)("br",{})," email = ",i.email,Object(l.jsx)("br",{}),Object(l.jsx)("br",{})," password = ",i.password,Object(l.jsx)("br",{})]})]})})};a(129);var ce=function(){var e=Object(L.a)(),t=e.register,a=e.handleSubmit,s=e.formState.errors,n=Object(r.useState)(null),c=Object(se.a)(n,2),i=c[0],o=c[1];return Object(l.jsx)(M.a,{theme:V,children:Object(l.jsxs)("form",{className:"getOneCustomer Box",onSubmit:a(function(){var e=Object(k.a)(w.a.mark((function e(t){var a,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.get(P.urls.adminGet+"one-customer/"+t.id);case 3:a=e.sent,r=a.data,o(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),F.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()),children:[Object(l.jsx)(E.a,{align:"center",variant:"h2",children:"Get Customer Details"}),Object(l.jsx)(D.a,Object(p.a)(Object(p.a)({},t("id",{min:{value:0,message:"Company ID must be a positive number"}})),{},{label:"Customer ID",variant:"outlined",type:"number",fullWidth:!0,required:!0})),s.id&&Object(l.jsx)("span",{className:"ErrorMessage",children:s.id.message}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsxs)(A.a,{variant:"text",fullWidth:!0,children:[Object(l.jsx)(T.a,{type:"submit",color:"primary",children:"Send"}),Object(l.jsx)(T.a,{type:"reset",color:"secondary",onClick:function(){return o(null)},children:"Cancel"})]}),null!=i&&Object(l.jsxs)("div",{className:"customerDetails",children:[Object(l.jsx)("br",{})," First Name = ",i.firstName,Object(l.jsx)("br",{}),Object(l.jsx)("br",{})," Last Name = ",i.lastName,Object(l.jsx)("br",{}),Object(l.jsx)("br",{})," email = ",i.email,Object(l.jsx)("br",{}),Object(l.jsx)("br",{})," password = ",i.password]})]})})};a(130);var ie=function(){var e=Object(L.a)(),t=e.register,a=e.handleSubmit,r=e.formState.errors;function s(){return(s=Object(k.a)(w.a.mark((function e(t){var a,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.put(P.urls.adminUpdate+"company",t);case 3:a=e.sent,r=a.data,F.success("company with id: "+r.id+" has been updated."),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),F.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(l.jsx)(M.a,{theme:V,children:Object(l.jsxs)("form",{className:"UpdateCompany Box",onSubmit:a((function(e){return s.apply(this,arguments)})),children:[Object(l.jsx)(E.a,{align:"center",variant:"h3",children:"Update Existing Company"}),Object(l.jsx)(D.a,Object(p.a)(Object(p.a)({},t("id",{min:{value:0,message:"Company ID must be a positive number"}})),{},{label:"Company ID",type:"number",fullWidth:!0,required:!0})),r.id&&Object(l.jsx)("span",{className:"ErrorMessage",children:r.id.message}),Object(l.jsx)(D.a,Object(p.a)(Object(p.a)({},t("name",{minLength:{value:3,message:"Name must be at least 3 letters."}})),{},{label:"Name",variant:"standard",required:!0,fullWidth:!0})),r.name&&Object(l.jsx)("span",{className:"ErrorMessage",children:r.name.message}),Object(l.jsx)(D.a,Object(p.a)(Object(p.a)({},t("email",{minLength:{value:3,message:"Email must be at least 3 letters."},pattern:{value:/\S+@\S+\.\S+/,message:"This field must be an Email"}})),{},{label:"Email",variant:"standard",required:!0,fullWidth:!0})),r.email&&Object(l.jsx)("span",{className:"ErrorMessage",children:r.email.message}),Object(l.jsx)(D.a,Object(p.a)(Object(p.a)({},t("password",{minLength:{value:3,message:"Email must be at least 3 letters."}})),{},{label:"Password",variant:"standard",type:"password",required:!0,fullWidth:!0})),r.password&&Object(l.jsx)("span",{className:"ErrorMessage",children:r.password.message}),Object(l.jsxs)(A.a,{variant:"text",fullWidth:!0,children:[Object(l.jsx)(T.a,{type:"submit",color:"primary",children:"Send"}),Object(l.jsx)(T.a,{type:"reset",color:"secondary",children:"Cancel"})]})]})})};a(131);var oe,le=function(){var e=Object(L.a)(),t=e.register,a=e.handleSubmit,r=e.formState.errors;function s(){return(s=Object(k.a)(w.a.mark((function e(t){var a,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.put(P.urls.adminUpdate+"customer",t);case 3:a=e.sent,r=a.data,F.success("customer with id: "+r.id+" has been updated."),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),F.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(l.jsxs)("form",{className:"UpdateCustomer Box",onSubmit:a((function(e){return s.apply(this,arguments)})),children:[Object(l.jsx)(E.a,{align:"center",variant:"h3",children:"Update Existing Customer"}),Object(l.jsx)(D.a,Object(p.a)(Object(p.a)({},t("id",{min:{value:0,message:"Customer ID must be a positive number"}})),{},{label:"Company ID",type:"number",fullWidth:!0,required:!0})),r.id&&Object(l.jsx)("span",{className:"ErrorMessage",children:r.id.message}),Object(l.jsx)(D.a,Object(p.a)(Object(p.a)({},t("firstName",{minLength:{value:3,message:"First Name must be at least 3 letters."}})),{},{label:"First Name",variant:"standard",required:!0,fullWidth:!0})),r.firstName&&Object(l.jsx)("span",{className:"ErrorMessage",children:r.firstName.message}),Object(l.jsx)(D.a,Object(p.a)(Object(p.a)({},t("lastName",{minLength:{value:3,message:"Last Name must be at least 3 letters."}})),{},{label:"Last Name",variant:"standard",required:!0,fullWidth:!0})),r.lastName&&Object(l.jsx)("span",{className:"ErrorMessage",children:r.lastName.message}),Object(l.jsx)(D.a,Object(p.a)(Object(p.a)({},t("email",{minLength:{value:3,message:"Email must be at least 3 letters."},pattern:{value:/\S+@\S+\.\S+/,message:"This field must be an Email"}})),{},{label:"Email",variant:"standard",required:!0,fullWidth:!0})),r.email&&Object(l.jsx)("span",{className:"ErrorMessage",children:r.email.message}),Object(l.jsx)(D.a,Object(p.a)(Object(p.a)({},t("password",{minLength:{value:3,message:"Email must be at least 3 letters."}})),{},{label:"Password",variant:"standard",type:"password",required:!0,fullWidth:!0})),r.password&&Object(l.jsx)("span",{className:"ErrorMessage",children:r.password.message}),Object(l.jsxs)(A.a,{variant:"text",fullWidth:!0,children:[Object(l.jsx)(T.a,{type:"submit",color:"primary",children:"Send"}),Object(l.jsx)(T.a,{type:"reset",color:"secondary",children:"Cancel"})]})]})},ue=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var r;return Object(d.a)(this,a),(r=t.call(this,e)).state={companies:[]},r}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=Object(k.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.get(P.urls.adminGet+"all-companies");case 3:t=e.sent,this.setState({companies:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),F.error(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(l.jsx)(M.a,{theme:V,children:Object(l.jsx)($.a,{children:Object(l.jsx)(Q.a,{children:Object(l.jsxs)(X.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(l.jsxs)(Z.a,{children:[Object(l.jsx)(ee.a,{children:"Name: "}),Object(l.jsx)(ee.a,{children:"Email: "})]}),Object(l.jsx)(te.a,{children:this.state.companies.map((function(e){return Object(l.jsxs)(ae.a,{children:[Object(l.jsx)(ee.a,{children:e.name}),Object(l.jsx)(ee.a,{children:e.email})]},e.id)}))})]})})})})}}]),a}(r.Component);a(132);!function(e){e.ADMIN="ADMIN",e.COMPANY="COMPANY",e.CUSTOMER="CUSTOMER"}(oe||(oe={}));var je=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var r;return Object(d.a)(this,a),(r=t.call(this,e)).state={ShowInnerComponent:!1},r}return Object(b.a)(a,[{key:"render",value:function(){var e=this;return Object(l.jsx)("div",{className:"menuCard__inner",onClick:function(){return e.setState({ShowInnerComponent:!0})},children:!0===this.state.ShowInnerComponent?Object(l.jsx)("div",{className:"menuCard__shape",children:Object(l.jsx)("div",{className:"menuCard__method",children:this.props.children})}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"menuCard__trace",children:this.props.sign}),Object(l.jsx)("h5",{children:this.props.name}),Object(l.jsx)("p",{children:this.props.description})]})})}}]),a}(r.Component),de=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){return Object(d.a)(this,a),t.call(this,e)}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e;(null===(e=y.getState().authState.user)||void 0===e?void 0:e.userType)!==oe.ADMIN&&(F.error("please log in as admin in order to access the Admin Menu"),this.props.history.push("/home"))}},{key:"render",value:function(){var e=this;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(E.a,{align:"center",variant:"h1",children:"Admin Methods Menu"}),Object(l.jsx)(E.a,{align:"center",variant:"h5",children:"Choose a method and click on it (magic will happen)"}),Object(l.jsxs)("ul",{className:"AdminMenu",children:[Object(l.jsx)("li",{className:"menuCard",children:Object(l.jsx)(je,{name:"Add company",description:"Add a new company to the DB",sign:"\u2719",children:Object(l.jsx)(_,{})})}),Object(l.jsx)("li",{className:"menuCard",children:Object(l.jsx)(je,{name:"Update Company",description:"Update existing company",sign:"\u219f",children:Object(l.jsx)(ie,{})})}),Object(l.jsx)("li",{className:"menuCard",children:Object(l.jsx)(je,{name:"Delete Company",description:"Completely delete existing company from DB",sign:"\u2716",children:Object(l.jsx)(J,{})})}),Object(l.jsx)("li",{className:"menuCard",children:Object(l.jsx)(je,{name:"Get All Companies",description:"Get a list of all existing Companies",sign:"\u2193",children:Object(l.jsx)(ue,{})})}),Object(l.jsx)("li",{className:"menuCard",children:Object(l.jsx)(je,{name:"Get One Company",description:"Get one company by it's ID",sign:"\u2193",children:Object(l.jsx)(ne,{})})}),Object(l.jsx)("li",{className:"menuCard",children:Object(l.jsx)(je,{name:"Add Customer",description:"Add customer to the DB",sign:"\u2719",children:Object(l.jsx)(z,{})})}),Object(l.jsx)("li",{className:"menuCard",children:Object(l.jsx)(je,{name:"Update Customer",description:"Update existing customer",sign:"\u219f",children:Object(l.jsx)(le,{})})}),Object(l.jsx)("li",{className:"menuCard",children:Object(l.jsx)(je,{name:"Delete Customer",description:"completely delete existing customer",sign:"\u2716",children:Object(l.jsx)(K,{})})}),Object(l.jsx)("li",{className:"menuCard",onClick:function(){return e.setState({getAllCustomers:!0})},children:Object(l.jsx)(je,{name:"Get All Customers",description:"Get all customers from the DB",sign:"\u2193",children:Object(l.jsx)(re,{})})}),Object(l.jsx)("li",{className:"menuCard",onClick:function(){return e.setState({getOneCustomer:!0})},children:Object(l.jsx)(je,{name:"Get One Customer",description:"Get one customer from the DB",sign:"\u2193",children:Object(l.jsx)(ce,{})})})]})]})}}]),a}(r.Component),be=a(193),me=a(190),he=a(194);a(133);var pe=function(){var e=Object(S.g)(),t=Object(L.a)(),a=t.register,r=t.handleSubmit,s=t.formState.errors;function n(){return(n=Object(k.a)(w.a.mark((function t(a){var r,s,n;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a.userType!==oe.ADMIN){t.next=8;break}return t.next=4,W.a.post(P.urls.adminLogin,a);case 4:r=t.sent,y.dispatch(x(r.data)),F.success("You have been successfully logged in!"),e.push("/admin");case 8:if(a.userType!==oe.COMPANY){t.next=15;break}return t.next=11,W.a.post(P.urls.companyLogin,a);case 11:s=t.sent,y.dispatch(x(s.data)),F.success("You have been successfully logged in!"),e.push("/company");case 15:if(a.userType!==oe.CUSTOMER){t.next=22;break}return t.next=18,W.a.post(P.urls.customerLogin,a);case 18:n=t.sent,y.dispatch(x(n.data)),F.success("You have been successfully logged in!"),e.push("/customer");case 22:t.next=27;break;case 24:t.prev=24,t.t0=t.catch(0),F.error(t.t0);case 27:case"end":return t.stop()}}),t,null,[[0,24]])})))).apply(this,arguments)}return Object(l.jsx)(M.a,{theme:V,children:Object(l.jsxs)("form",{className:"SignForm Box",onSubmit:r((function(e){return n.apply(this,arguments)})),children:[Object(l.jsx)(E.a,{align:"center",variant:"h2",children:"Login"}),Object(l.jsx)(D.a,Object(p.a)(Object(p.a)({},a("email",{required:"Missing Field",minLength:{value:3,message:"Email must be at least 3 letters."},pattern:{value:/\S+@\S+\.\S+/,message:"This field must be an Email"}})),{},{label:"Email",variant:"outlined",fullWidth:!0})),s.email&&Object(l.jsx)("p",{className:"ErrorMessage",children:s.email.message}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)(D.a,Object(p.a)(Object(p.a)({},a("password",{required:"Missing Field",minLength:{value:3,message:"Password must be at least 3 letters."}})),{},{label:"Password",variant:"outlined",type:"password",fullWidth:!0})),s.password&&Object(l.jsx)("p",{className:"ErrorMessage",children:s.password.message}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)(be.a,{children:"Customer Type"}),Object(l.jsxs)(me.a,Object(p.a)(Object(p.a)({},a("userType")),{},{variant:"outlined",fullWidth:!0,required:!0,children:[Object(l.jsx)(be.a,{children:"Customer Type"}),Object(l.jsx)(he.a,{value:"ADMIN",children:"Admin"}),Object(l.jsx)(he.a,{value:"COMPANY",children:"Company"}),Object(l.jsx)(he.a,{value:"CUSTOMER",children:"Customer"})]})),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsxs)(A.a,{variant:"text",fullWidth:!0,children:[Object(l.jsx)(T.a,{className:"muiButton",type:"submit",color:"primary",variant:"contained",children:"Send"}),Object(l.jsx)(T.a,{type:"reset",color:"secondary",variant:"contained",children:"Cancel"})]})]})})};a(134);var Oe=function(){return Object(l.jsxs)("div",{className:"Main",children:[Object(l.jsxs)("p",{className:"text",children:["Hello and welcome to my humble coupons project! ",Object(l.jsx)("br",{}),"If you wish to learn how to use the site or contact me (hopefully both) go to the ",Object(l.jsx)(o.b,{to:"/about",children:"About Me"})," page. ",Object(l.jsx)("br",{})," ",Object(l.jsx)("br",{}),"If you already know how to use it you probably wish to login: ",Object(l.jsx)("br",{})]}),Object(l.jsx)("div",{className:"signForm",children:Object(l.jsx)(pe,{})})]})};a(135);var xe=function(){var e=Object(L.a)(),t=e.register,a=e.handleSubmit,r=e.formState.errors;function s(){return(s=Object(k.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.post(P.urls.company+"add",t);case 3:F.success("coupon has been added."),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),F.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return Object(l.jsxs)("form",{className:"AddCoupon Box",onSubmit:a((function(e){return s.apply(this,arguments)})),children:[Object(l.jsx)(E.a,{align:"center",variant:"h2",color:"textPrimary",children:"Add new Coupon"}),Object(l.jsx)(D.a,Object(p.a)(Object(p.a)({},t("title",{minLength:{value:5,message:"Title must be at least 5 letters."}})),{},{label:"Title",variant:"standard",type:"text",required:!0})),r.title&&Object(l.jsx)("span",{className:"ErrorMessage",children:r.title.message}),Object(l.jsx)(D.a,Object(p.a)(Object(p.a)({},t("amount",{min:{value:1,message:"As my teacher user to say: there can't be a negative number of apples "}})),{},{label:"Amount",variant:"standard",type:"number",required:!0})),r.amount&&Object(l.jsx)("span",{className:"ErrorMessage",children:r.amount.message}),Object(l.jsx)(D.a,Object(p.a)(Object(p.a)({},t("price",{pattern:{value:/^\d*\.?\d*$/,message:"Must be a valid number"},min:{value:1,message:"price must be a positive number "}})),{},{label:"Price",variant:"standard",type:"text",required:!0})),r.price&&Object(l.jsx)("span",{className:"ErrorMessage",children:r.price.message}),Object(l.jsx)(D.a,Object(p.a)(Object(p.a)({},t("description")),{},{label:"Description",variant:"standard"})),Object(l.jsx)(D.a,Object(p.a)(Object(p.a)({},t("startDate")),{},{label:"Set Start Date",type:"date",InputLabelProps:{shrink:!0},required:!0})),Object(l.jsx)(D.a,Object(p.a)(Object(p.a)({},t("endDate")),{},{label:"Set End Date",type:"date",InputLabelProps:{shrink:!0},required:!0})),r.endDate&&Object(l.jsx)("span",{className:"ErrorMessage",children:"End date Must be in the future (sadly our time machine is out of order, come check again in the past)"}),Object(l.jsxs)(be.a,{children:[Object(l.jsx)("br",{}),"Category:"]}),Object(l.jsxs)(me.a,Object(p.a)(Object(p.a)({},t("category")),{},{className:"select",required:!0,children:[Object(l.jsx)(be.a,{children:"Category"}),Object(l.jsx)(he.a,{value:"FOOD",children:"Food"}),Object(l.jsx)(he.a,{value:"ELECTRICITY",children:"Electricity"}),Object(l.jsx)(he.a,{value:"RESTAURANT",children:"Restaurant"}),Object(l.jsx)(he.a,{value:"VACATION",children:"Vacation"}),Object(l.jsx)(he.a,{value:"GARMENT",children:"Garment"}),Object(l.jsx)(he.a,{value:"BOOK",children:"Book"})]})),Object(l.jsxs)(A.a,{variant:"text",fullWidth:!0,children:[Object(l.jsx)(T.a,{type:"submit",color:"primary",children:"Send"}),Object(l.jsx)(T.a,{type:"reset",color:"secondary",children:"Clear"})]})]})};a(136);var ve=function(){var e=Object(L.a)(),t=e.register,a=e.handleSubmit;function r(){return(r=Object(k.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.delete(P.urls.company+"delete/"+t.id);case 3:F.success("coupon with id: "+t.id+" has been deleted."),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),F.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return Object(l.jsxs)("form",{className:"DeleteCoupon Box",onSubmit:a((function(e){return r.apply(this,arguments)})),children:[Object(l.jsx)(E.a,{align:"center",variant:"h2",children:"Delete Coupon"}),Object(l.jsx)(D.a,Object(p.a)(Object(p.a)({},t("id")),{},{label:"Coupon ID",variant:"outlined",type:"number",required:!0,fullWidth:!0})),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsxs)(A.a,{variant:"text",fullWidth:!0,children:[Object(l.jsx)(T.a,{type:"submit",color:"primary",children:"Send"}),Object(l.jsx)(T.a,{type:"reset",color:"secondary",children:"Clear"})]})]})};a(137);var fe=function(){var e=Object(L.a)(),t=e.register,a=e.handleSubmit,r=e.formState.errors;function s(){return(s=Object(k.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.put(P.urls.company+"update",t);case 3:F.success("coupon has been updated successfully."),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),F.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return Object(l.jsxs)("form",{className:"UpdateCoupon Box",onSubmit:a((function(e){return s.apply(this,arguments)})),children:[Object(l.jsx)(E.a,{align:"center",variant:"h2",color:"textPrimary",children:"Update Existing Coupon"}),Object(l.jsx)(D.a,Object(p.a)(Object(p.a)({},t("id",{min:{value:0,message:"Company ID must be a positive number"}})),{},{label:"Company ID",type:"number",required:!0})),r.id&&Object(l.jsx)("span",{className:"ErrorMessage",children:r.id.message}),Object(l.jsx)(D.a,Object(p.a)(Object(p.a)({},t("title",{minLength:{value:5,message:"Title must be at least 5 letters."}})),{},{label:"Title",variant:"standard",type:"text",required:!0})),r.title&&Object(l.jsx)("span",{className:"ErrorMessage",children:r.title.message}),Object(l.jsx)(D.a,Object(p.a)(Object(p.a)({},t("amount",{min:{value:1,message:"As my teacher user to say: there can't be a negative number of apples "}})),{},{label:"Amount",variant:"standard",type:"number",required:!0})),r.amount&&Object(l.jsx)("span",{className:"ErrorMessage",children:r.amount.message}),Object(l.jsx)(D.a,Object(p.a)(Object(p.a)({},t("price",{min:{value:1,message:"price must be a positive number "}})),{},{label:"Price",variant:"standard",type:"text",required:!0})),r.price&&Object(l.jsx)("span",{className:"ErrorMessage",children:r.price.message}),Object(l.jsx)(D.a,Object(p.a)(Object(p.a)({},t("description")),{},{label:"Description",variant:"standard"})),Object(l.jsx)(D.a,Object(p.a)(Object(p.a)({},t("startDate")),{},{label:"Set Start Date",type:"date",InputLabelProps:{shrink:!0},required:!0})),Object(l.jsx)(D.a,Object(p.a)(Object(p.a)({},t("endDate")),{},{label:"Set End Date",type:"date",InputLabelProps:{shrink:!0},required:!0})),Object(l.jsxs)(be.a,{children:[Object(l.jsx)("br",{}),"Category:"]}),Object(l.jsxs)(me.a,Object(p.a)(Object(p.a)({},t("category")),{},{className:"select",required:!0,children:[Object(l.jsx)(be.a,{children:"Category"}),Object(l.jsx)(he.a,{value:"FOOD",children:"Food"}),Object(l.jsx)(he.a,{value:"ELECTRICITY",children:"Electricity"}),Object(l.jsx)(he.a,{value:"RESTAURANT",children:"Restaurant"}),Object(l.jsx)(he.a,{value:"VACATION",children:"Vacation"}),Object(l.jsx)(he.a,{value:"GARMENT",children:"Garment"}),Object(l.jsx)(he.a,{value:"BOOK",children:"Book"})]})),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsxs)(A.a,{variant:"text",fullWidth:!0,children:[Object(l.jsx)(T.a,{type:"submit",color:"primary",children:"Send"}),Object(l.jsx)(T.a,{type:"reset",color:"secondary",children:"Clear"})]})]})},ye=(a(138),function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){return Object(d.a)(this,a),t.call(this,e)}return Object(b.a)(a,[{key:"render",value:function(){return Object(l.jsx)($.a,{children:Object(l.jsx)(Q.a,{children:Object(l.jsxs)(X.a,{stickyHeader:!0,"aria-label":"stickyHeader",children:[Object(l.jsxs)(Z.a,{children:[Object(l.jsx)(ee.a,{children:"Title: "}),Object(l.jsx)(ee.a,{children:"Description: "}),Object(l.jsx)(ee.a,{children:"Category: "}),Object(l.jsx)(ee.a,{children:"End date: "}),Object(l.jsx)(ee.a,{children:"Price: "}),Object(l.jsx)(ee.a,{children:"Company Name: "})]}),Object(l.jsx)(te.a,{children:this.props.coupons.map((function(e){return Object(l.jsxs)(ae.a,{hover:!0,role:"checkbox",className:"CouponCard",children:[Object(l.jsx)(ee.a,{children:e.title}),Object(l.jsx)(ee.a,{children:e.description}),Object(l.jsx)(ee.a,{children:e.category}),Object(l.jsx)(ee.a,{children:e.endDate}),Object(l.jsx)(ee.a,{children:e.price}),Object(l.jsx)(ee.a,{children:e.company.name})]},e.id)}))})]})})})}}]),a}(r.Component)),ge=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var r;return Object(d.a)(this,a),(r=t.call(this,e)).state={coupons:[]},r}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=Object(k.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.get(P.urls.company+"get-coupons");case 3:t=e.sent,this.setState({coupons:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),F.error(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(l.jsx)("div",{className:"GetCompanyCoupons",children:Object(l.jsx)(ye,{coupons:this.state.coupons})})}}]),a}(r.Component);var Ce=function(){var e=Object(r.useState)([]),t=Object(se.a)(e,2),a=t[0],s=t[1],n=Object(r.useState)("no price is chosen yet."),c=Object(se.a)(n,2),i=c[0],o=c[1],u=Object(L.a)(),j=u.register,d=u.handleSubmit,b=u.formState.errors;function m(){return(m=Object(k.a)(w.a.mark((function e(t){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.get(P.urls.company+"get-coupons-by-price/"+t.maxPrice);case 3:0===(a=e.sent).data.length?o("You have no coupons under this price"):o(""),s(a.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),F.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("form",{onSubmit:d((function(e){return m.apply(this,arguments)})),children:[Object(l.jsx)(D.a,Object(p.a)(Object(p.a)({},j("maxPrice",{pattern:{value:/^\d*\.?\d*$/,message:"Must be a valid number"},min:{value:0,message:"last time i checked, we didn't offer to pay customers (the price is negative)"}})),{},{label:"Maximum Price",variant:"standard",type:"text",required:!0})),b.maxPrice&&Object(l.jsxs)("span",{className:"ErrorMessage",children:[Object(l.jsx)("br",{}),b.maxPrice.message,Object(l.jsx)("br",{})]}),Object(l.jsx)(T.a,{type:"submit",children:"send"})]}),Object(l.jsxs)("ul",{className:"CompanyMenu",children:[Object(l.jsx)(ye,{coupons:a}),i]})]})},Se=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var r;return Object(d.a)(this,a),(r=t.call(this,e)).state={coupons:[],couponsReplacement:"no category is chosen yet. who is your chosen one?"},r}return Object(b.a)(a,[{key:"render",value:function(){var e=this;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(E.a,{align:"center",variant:"h5",children:"Category to Show:"}),Object(l.jsxs)(me.a,{variant:"filled",fullWidth:!0,onChange:function(){var t=Object(k.a)(w.a.mark((function t(a){var r;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,B.get(P.urls.companyGet+"coupons-by-category/"+a.target.value);case 3:0===(r=t.sent).data.length?e.setState({couponsReplacement:"You have no coupons in this category"}):e.setState({couponsReplacement:""}),e.setState({coupons:r.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),F.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),children:[Object(l.jsx)(be.a,{children:"Category"}),Object(l.jsx)(he.a,{value:"FOOD",children:"Food"}),Object(l.jsx)(he.a,{value:"ELECTRICITY",children:"Electricity"}),Object(l.jsx)(he.a,{value:"RESTAURANT",children:"Restaurant"}),Object(l.jsx)(he.a,{value:"VACATION",children:"Vacation"}),Object(l.jsx)(he.a,{value:"GARMENT",children:"Garment"}),Object(l.jsx)(he.a,{value:"BOOK",children:"Book"})]}),Object(l.jsxs)("ul",{className:"CompanyMenu",children:[Object(l.jsx)(ye,{coupons:this.state.coupons}),this.state.couponsReplacement]})]})}}]),a}(r.Component),Ne=(a(139),function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var r;return Object(d.a)(this,a),(r=t.call(this,e)).state={company:null},r}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=Object(k.a)(w.a.mark((function e(){var t,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.get(P.urls.company+"company");case 3:t=e.sent,a=t.data,this.setState({company:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),F.error(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(l.jsxs)("div",{className:"GetCompanyDetails",children:[Object(l.jsx)(E.a,{align:"center",variant:"h2",children:"Get Company Details"}),null!=this.state.company&&Object(l.jsxs)("div",{children:[Object(l.jsx)("br",{})," Name = ",this.state.company.name,Object(l.jsx)("br",{})," email = ",this.state.company.email,Object(l.jsx)("br",{})," password =",this.state.company.password]})]})}}]),a}(r.Component)),we=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var r;return Object(d.a)(this,a),(r=t.call(this,e)).state={methodToShow:null},r}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e;(null===(e=y.getState().authState.user)||void 0===e?void 0:e.userType)!==oe.COMPANY&&(F.error("please log in as company in order to access the Company Menu"),this.props.history.push("/home"))}},{key:"render",value:function(){var e=this;return Object(l.jsx)(M.a,{theme:V,children:Object(l.jsxs)("div",{className:"CompanyMenu",children:[Object(l.jsx)(E.a,{variant:"h2",align:"center",children:"Company Area"}),Object(l.jsx)(E.a,{variant:"h4",align:"center",children:"Choose method from the menu below"}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)(be.a,{children:"Methods List:"}),Object(l.jsxs)(me.a,{variant:"filled",fullWidth:!0,onChange:function(t){e.setState({methodToShow:String(t.target.value)})},children:[Object(l.jsx)(be.a,{children:"Methods list"}),Object(l.jsx)(he.a,{value:"AddCoupon",children:"Add Coupon"}),Object(l.jsx)(he.a,{value:"UpdateCoupon",children:"Update Coupon"}),Object(l.jsx)(he.a,{value:"DeleteCoupon",children:"Delete Coupon"}),Object(l.jsx)(he.a,{value:"GetCompanyCoupons",children:"All of Your Coupons"}),Object(l.jsx)(he.a,{value:"GetCompanyCouponsByCategory",children:"Coupons By Category"}),Object(l.jsx)(he.a,{value:"GetCompanyCouponsByMaxPrice",children:"Coupons By Max Price"}),Object(l.jsx)(he.a,{value:"GetCompanyDetails",children:"Company Details"})]}),Object(l.jsxs)("div",{className:"methodToShow",children:["AddCoupon"===this.state.methodToShow&&Object(l.jsx)(xe,{}),"UpdateCoupon"===this.state.methodToShow&&Object(l.jsx)(fe,{}),"DeleteCoupon"===this.state.methodToShow&&Object(l.jsx)(ve,{}),"GetCompanyCoupons"===this.state.methodToShow&&Object(l.jsx)(ge,{}),"GetCompanyCouponsByCategory"===this.state.methodToShow&&Object(l.jsx)(Se,{}),"GetCompanyCouponsByMaxPrice"===this.state.methodToShow&&Object(l.jsx)(Ce,{}),"GetCompanyDetails"===this.state.methodToShow&&Object(l.jsx)(Ne,{})]})]})})}}]),a}(r.Component),ke=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var r;return Object(d.a)(this,a),(r=t.call(this,e)).state={coupons:[]},r}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=Object(k.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.get(P.urls.customer+"all-coupons");case 3:t=e.sent,this.setState({coupons:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),F.error(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(l.jsx)("ul",{className:"CustomerMenu",children:Object(l.jsx)(ye,{coupons:this.state.coupons})})}}]),a}(r.Component),Me=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var r;return Object(d.a)(this,a),(r=t.call(this,e)).state={coupons:[],couponsReplacement:"no category is chosen yet. what is your chosen one?"},r}return Object(b.a)(a,[{key:"render",value:function(){var e=this;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(be.a,{children:"Choose Category: "}),Object(l.jsxs)(me.a,{variant:"filled",fullWidth:!0,onChange:function(){var t=Object(k.a)(w.a.mark((function t(a){var r;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,B.get(P.urls.customer+"coupons-by-category/"+a.target.value);case 3:0===(r=t.sent).data.length?e.setState({couponsReplacement:"You have no coupons in this category"}):e.setState({couponsReplacement:""}),e.setState({coupons:r.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),F.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),children:[Object(l.jsx)(be.a,{children:"Category"}),Object(l.jsx)(he.a,{value:"FOOD",children:"Food"}),Object(l.jsx)(he.a,{value:"ELECTRICITY",children:"Electricity"}),Object(l.jsx)(he.a,{value:"RESTAURANT",children:"Restaurant"}),Object(l.jsx)(he.a,{value:"VACATION",children:"Vacation"}),Object(l.jsx)(he.a,{value:"GARMENT",children:"Garment"}),Object(l.jsx)(he.a,{value:"BOOK",children:"Book"})]}),Object(l.jsxs)("ul",{className:"CustomerMenu",children:[Object(l.jsx)(ye,{coupons:this.state.coupons}),this.state.couponsReplacement]})]})}}]),a}(r.Component);var Ee=function(){var e=Object(r.useState)([]),t=Object(se.a)(e,2),a=t[0],s=t[1],n=Object(r.useState)("no price is chosen yet."),c=Object(se.a)(n,2),i=c[0],o=c[1],u=Object(L.a)(),j=u.register,d=u.handleSubmit,b=u.formState.errors;function m(){return(m=Object(k.a)(w.a.mark((function e(t){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.get(P.urls.customer+"coupons-by-price/"+t.maxPrice);case 3:0===(a=e.sent).data.length?o("You have no coupons under this price"):o(""),s(a.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),F.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("form",{onSubmit:d((function(e){return m.apply(this,arguments)})),children:[Object(l.jsx)(D.a,Object(p.a)(Object(p.a)({},j("maxPrice",{pattern:{value:/^\d*\.?\d*$/,message:"Must be a valid number"},min:{value:0,message:"last time i checked, we didn't offer to pay customers (the price is negative)"}})),{},{label:"Maximum Price",variant:"standard",type:"text",required:!0})),b.maxPrice&&Object(l.jsxs)("span",{className:"ErrorMessage",children:[Object(l.jsx)("br",{}),b.maxPrice.message,Object(l.jsx)("br",{})]}),Object(l.jsx)(T.a,{type:"submit",children:"send"})]}),Object(l.jsxs)("ul",{className:"CustomerMenu",children:[Object(l.jsx)(ye,{coupons:a}),i]})]})},De=(a(140),function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var r;return Object(d.a)(this,a),(r=t.call(this,e)).state={customer:null},r}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=Object(k.a)(w.a.mark((function e(){var t,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.get(P.urls.customer+"customer");case 3:t=e.sent,a=t.data,this.setState({customer:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),F.error(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(l.jsxs)("div",{className:"GetCustomerDetails",children:[Object(l.jsx)(E.a,{align:"center",variant:"h2",children:"Get Customer Details"}),Object(l.jsx)("div",{children:null!=this.state.customer&&Object(l.jsxs)("div",{children:["First Name = ",this.state.customer.firstName,Object(l.jsx)("br",{}),"Last Name = ",this.state.customer.lastName,Object(l.jsx)("br",{}),"email = ",this.state.customer.email,Object(l.jsx)("br",{}),"password = ",this.state.customer.password]})})]})}}]),a}(r.Component));var Ae=function(){var e=Object(L.a)(),t=e.register,a=e.handleSubmit;function r(){return(r=Object(k.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.put(P.urls.customerPurchase+"/"+t.couponId);case 3:F.success("you bought the coupon successfully"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),F.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return Object(l.jsxs)("form",{className:"PurchaseCoupon Box",onSubmit:a((function(e){return r.apply(this,arguments)})),children:[Object(l.jsx)(D.a,Object(p.a)(Object(p.a)({className:"button"},t("couponId")),{},{label:"Coupon ID",variant:"filled",type:"number",required:!0,fullWidth:!0})),Object(l.jsxs)(A.a,{variant:"text",fullWidth:!0,children:[Object(l.jsx)(T.a,{type:"submit",color:"primary",variant:"outlined",children:"Send"}),Object(l.jsx)(T.a,{type:"reset",color:"secondary",variant:"outlined",children:"clear"})]})]})},Te=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var r;return Object(d.a)(this,a),(r=t.call(this,e)).state={methodToShow:null},r}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e;(null===(e=y.getState().authState.user)||void 0===e?void 0:e.userType)!==oe.CUSTOMER&&(F.error("please log in as company in order to access the Company Menu"),this.props.history.push("/home"))}},{key:"render",value:function(){var e=this;return Object(l.jsx)(M.a,{theme:V,children:Object(l.jsxs)("div",{className:"CustomerMenu",children:[Object(l.jsx)(E.a,{variant:"h2",align:"center",children:"Customer Area"}),Object(l.jsx)(E.a,{variant:"h4",align:"center",children:"Choose method from the menu below"}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)(be.a,{children:"Methods List:"}),Object(l.jsxs)(me.a,{variant:"filled",fullWidth:!0,onChange:function(t){e.setState({methodToShow:String(t.target.value)})},children:[Object(l.jsx)(be.a,{children:"Methods list"}),Object(l.jsx)(he.a,{value:"PurchaseCoupon",children:"Purchase Coupon"}),Object(l.jsx)(he.a,{value:"GetCustomerCoupons",children:"All your Coupons"}),Object(l.jsx)(he.a,{value:"GetCustomerCouponsByCategory",children:"Your Coupons by Category"}),Object(l.jsx)(he.a,{value:"GetCustomerCouponsByMaxPrice",children:"Your Coupons by Max Price"}),Object(l.jsx)(he.a,{value:"GetCustomerDetails",children:"Your Details"})]}),Object(l.jsxs)("div",{className:"methodToShow",children:["PurchaseCoupon"===this.state.methodToShow&&Object(l.jsx)(Ae,{}),"GetCustomerCoupons"===this.state.methodToShow&&Object(l.jsx)(ke,{}),"GetCustomerCouponsByCategory"===this.state.methodToShow&&Object(l.jsx)(Me,{}),"GetCustomerCouponsByMaxPrice"===this.state.methodToShow&&Object(l.jsx)(Ee,{}),"GetCustomerDetails"===this.state.methodToShow&&Object(l.jsx)("div",{children:Object(l.jsx)(De,{})})]})]})})}}]),a}(r.Component);var Le=function(){var e=Object(S.g)();return Object(r.useEffect)((function(){y.dispatch({type:u.Logout}),F.success("You are now logged out."),e.push("/home")})),null};a(141);var Ie=function(){return Object(l.jsxs)("div",{className:"Page404",children:[Object(l.jsxs)("div",{children:["The page you are looking for doesn't exist :( ",Object(l.jsx)("br",{})," you can try returning",Object(l.jsx)(o.b,{to:"/home",children:"Home"})," instead."]}),Object(l.jsx)("img",{src:"http://www.quickmeme.com/img/cb/cbc49c853e2e5b93734077b153d944cb491d6c277ada4a516153dbbe4446e208.jpg",title:"Page not found",alt:"A cool meme about page not found."})]})};a(142);var Pe=function(){return Object(l.jsxs)("div",{className:"AboutMe",children:[Object(l.jsxs)("p",{children:["My name is Eitan Etzion and this site is a showcase for my capabilities. The frontend uses React (TS) and the backend runs on Java. ",Object(l.jsx)("br",{})]}),"Backend git: \xa0",Object(l.jsx)("a",{href:"https://github.com/eitan-ez/CouponsWebsite",children:"here"}),Object(l.jsx)("br",{}),"Frontend git: \xa0",Object(l.jsx)("a",{href:"https://github.com/eitan-ez/ReactProject",children:"here"}),Object(l.jsx)("br",{}),"And contact me \xa0",Object(l.jsx)("a",{href:"https://www.linkedin.com/in/eitan-etzion-217b8a1b1/",children:"in LinkedIn"}),Object(l.jsxs)("p",{children:["How to use this site: ",Object(l.jsx)("br",{}),'Login as admin, the email is "admin@admin.com" and the password is "admin".']}),Object(l.jsx)("p",{children:"After the login, you'll be redirected to the Admin Area, where you'll be able to add customers and companies. add them and you'll be able to login as one of them, add and delete coupons (as a company) or buy coupons (as a customer). Enjoy!"}),Object(l.jsx)(o.b,{to:"/home",children:"Link Home"}),", cause you need one."]})};var Ge=function(){return Object(l.jsx)("div",{children:Object(l.jsxs)(S.d,{children:[Object(l.jsx)(S.b,{path:"/home",component:Oe,exact:!0}),Object(l.jsx)(S.b,{path:"/admin",component:de,exact:!0}),Object(l.jsx)(S.b,{path:"/company",component:we,exact:!0}),Object(l.jsx)(S.b,{path:"/customer",component:Te,exact:!0}),Object(l.jsx)(S.b,{path:"/about",component:Pe,exact:!0}),Object(l.jsx)(S.b,{path:"/logout",component:Le,exact:!0}),Object(l.jsx)(S.a,{from:"/",to:"/home",exact:!0}),Object(l.jsx)(S.b,{component:Ie})]})})};a(143);var We=function(){return Object(l.jsx)(o.a,{children:Object(l.jsxs)("div",{className:"Layout",children:[Object(l.jsx)("header",{children:Object(l.jsx)(C,{})}),Object(l.jsx)("main",{children:Object(l.jsx)(Ge,{})}),Object(l.jsx)("footer",{children:Object(l.jsx)(j,{})})]})})};c.a.render(Object(l.jsx)(s.a.StrictMode,{children:Object(l.jsx)(We,{})}),document.getElementById("root")),i()},96:function(e,t,a){},97:function(e,t,a){},99:function(e,t,a){}},[[144,1,2]]]);
//# sourceMappingURL=main.771a8e9b.chunk.js.map